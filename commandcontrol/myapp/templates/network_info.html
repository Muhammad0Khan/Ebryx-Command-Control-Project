{% extends 'dashboard_base.html' %} {% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="mt-4">
	<div class="">
		<h1>Network Information</h1>
		<nav>
			<ol class="breadcrumb">
				<li class="breadcrumb-item">
					<a href="{% url 'dashboard' %}">Dashboard</a>
				</li>
				<li class="breadcrumb-item"><a href="#">Network Information</a></li>
			</ol>
		</nav>
	</div>

	<div class="row">
		<div class="col-lg-6">
			<div class="card">
				<div class="card-body">
					<h2 class="mt-4">Hostname: {{ hostname }}</h2>
					<h3>WIFI (en0)</h3>
					<div id="reportsChart1"></div>
				</div>
			</div>
		</div>

		<div class="col-lg-6">
			<div class="card">
				<div class="card-body">
					<table class="table mt-4">
						<thead>
							<tr>
								<th>Interface</th>
								<th>Download</th>
								<th>Total Upload</th>
								<th>Upload Speed</th>
								<th>Download Speed</th>
							</tr>
						</thead>
						<tbody>
							{% for entry in last_data_section %}
							<tr>
								<td>{{ entry.iface }}</td>
								<td>{{ entry.data.download }}</td>
								<td>{{ entry.data.total_upload }}</td>
								<td>{{ entry.data.upload_speed }}</td>
								<td>{{ entry.data.download_speed }}</td>
							</tr>
							{% endfor %}
						</tbody>
					</table>
					<!-- End Area Chart -->
				</div>
			</div>
		</div>
	</div>

	<script> 
			document.addEventListener("DOMContentLoaded", () => {
				new ApexCharts(document.querySelector("#reportsChart1"), {
						series: [
								{
										name: "Download Data",
										data: {{ download_data | safe }},
								},
								{
										name: "Upload Data",
										data: {{ upload_data | safe }},
								},
						],
						chart: {
								height: 350,
								type: "area",
								toolbar: {
										show: false,
								},
						},
						markers: {
								size: 4,
						},
						colors: ["#4154f1", "#2eca6a"],
						fill: {
								type: "gradient",
								gradient: {
										shadeIntensity: 1,
										opacityFrom: 0.3,
										opacityTo: 0.4,
										stops: [0, 90, 100],
								},
						},
						dataLabels: {
								enabled: false,
						},
						stroke: {
								curve: "smooth",
								width: 2,
						},
						xaxis: {
								type: "datetime",
								categories: {{ timestamp | safe }},
						},
						tooltip: {
								x: {
										format: "dd/MM/yy HH:mm",
								},
						},
				}).render();
		});
		
	</script>

	{% endblock %}
</div>
